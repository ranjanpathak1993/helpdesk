
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Zenex IT Helpdesk</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

/* ================= GLOBAL ================= */
body{
    margin:0;
    font-family:'Poppins', sans-serif;
    background:#050b18;
    color:white;
    overflow-x:hidden;
}

body::before{
    content:"";
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:linear-gradient(130deg,#00172b,#020f1f,#051f3b,#000);
    background-size:400% 400%;
    animation:bgMove 18s infinite linear;
    z-index:-1;
}
@keyframes bgMove{
    0%{background-position:0% 0%}
    50%{background-position:100% 100%}
    100%{background-position:0% 0%}
}

/* ================= HERO (ULTRA PREMIUM) ================= */
.hero{
    text-align:center;
    margin-top:60px;
}

.hero h1{
    font-size:58px;
    font-weight:800;
    letter-spacing:1px;
    background:radial-gradient(circle,#00eaff,#00ffc6,#00aaff);
    -webkit-background-clip:text;
    color:transparent;
    filter:drop-shadow(0 0 18px #00eaffaa);
    animation:popIn 1.5s ease;
}

.hero h2{
    font-size:48px;
    font-weight:700;
    margin-top:-15px;
    color:#00ffc6;
    text-shadow:0 0 22px #00ffc644;
    animation:slideUp 1.8s ease;
}

.hero p{
    margin-top:18px;
    opacity:.85;
    font-size:20px;
    animation:fadeIn 2s ease;
}

@keyframes popIn{
    0%{opacity:0;transform:scale(.7);}
    100%{opacity:1;transform:scale(1);}
}
@keyframes slideUp{
    0%{opacity:0;transform:translateY(35px);}
    100%{opacity:1;transform:translateY(0);}
}
@keyframes fadeIn{
    from{opacity:0;}
    to{opacity:1;}
}

/* ================= MENU (GLASS TABS) ================= */
.menu{
    display:flex;
    justify-content:center;
    gap:30px;
    margin-top:35px;
    flex-wrap:wrap;
}
.menu a{
    text-decoration:none;
    padding:14px 26px;
    border-radius:16px;
    font-size:17px;
    font-weight:600;
    color:#ffffffdd;
    background:rgba(255,255,255,0.08);
    backdrop-filter:blur(12px);
    border:1px solid rgba(0,255,255,0.12);
    transition:.28s;
    box-shadow:0 0 20px rgba(0,255,255,0.15);
}
.menu a:hover{
    transform:translateY(-6px) scale(1.07);
    background:rgba(0,255,255,0.18);
    color:#00eaff;
    box-shadow:0 0 25px #00eaffaa;
}

/* ================= 2-BOX GRID ================= */
.section{
    width:92%;
    margin:60px auto;
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:50px;

    /* MOBILE SUPPORT */
}
@media(max-width:850px){
    .section{
        grid-template-columns:1fr;
    }
}

/* BOX SAME SIZE BOTH */
.box{
    height:380px;
    padding:22px;
    border-radius:20px;
    backdrop-filter:blur(14px);
    background:rgba(0,255,255,0.08);
    border:1px solid rgba(0,255,255,0.15);
    box-shadow:0 0 25px #00eaff55;
    animation:floatCard 4s ease-in-out infinite;
    text-align:center;
}
@keyframes floatCard{
    0%{transform:translateY(0);}
    50%{transform:translateY(-12px);}
    100%{transform:translateY(0);}
}

.box h3{
    font-size:24px;
    color:#00ffbf;
    margin-bottom:15px;
}

/* QR */
.box img{
    width:200px;
    height:200px;
    padding:10px;
    background:white;
    border-radius:14px;
}

/* VIDEO (YouTube embed) */
.video-box .embed-wrap{
    position:relative;
    width:100%;
    /* 16:9 ratio */
    padding-top:56.25%;
    border-radius:14px;
    overflow:hidden;
    background:black;
    box-shadow:0 0 0 0 transparent; /* keep clean */
}
.video-box iframe{
    position:absolute;
    top:0;left:0;
    width:100%;
    height:100%;
    border:0;
    border-radius:14px;
    /* for subtle glow similar to other cards */
    box-shadow:0 0 25px #00eaff22;
}

/* ================= CHAT ================ */

.chat-icon{
    position:fixed;
    bottom:25px;
    right:25px;
    width:70px;height:70px;
    border-radius:50%;
    background:#00eaff;
    display:flex;align-items:center;justify-content:center;
    font-size:32px;
    cursor:pointer;
    color:#001423;
    box-shadow:0 0 25px #00eaff;
    animation:pulse 2s infinite;
}
@keyframes pulse{
    0%{box-shadow:0 0 10px #00eaff}
    50%{box-shadow:0 0 30px #00eaff}
    100%{box-shadow:0 0 10px #00eaff}
}

.chat-box{
    position:fixed;
    bottom:105px;right:25px;
    width:330px;
    background:rgba(0,25,45,0.75);
    border:1px solid #00eaff55;
    border-radius:18px;
    backdrop-filter:blur(12px);
    display:none;
    flex-direction:column;
}

.chat-header{
    background:#00eaff;
    color:#001423;
    padding:12px;
    font-weight:700;
    text-align:center;
}

.chat-body{
    padding:12px;
    height:260px;
    overflow-y:auto;
}

.chat-input{
    display:flex;
    padding:10px;
    gap:8px;
}
.chat-input input{
    flex:1;padding:8px;border:none;border-radius:6px;
}
.chat-input button{
    padding:8px 14px;
    background:#00eaff;
    border:none;border-radius:6px;
    font-weight:600;
    cursor:pointer;
}

</style>
</head>

<body>

<!-- HERO -->
<div class="hero">
    <h1>Welcome to</h1>
    <h2>Zenex IT Helpdesk</h2>
    <p>Your one-stop solution for raising tickets, tracking issues<br>and getting instant IT support.</p>
</div>

<!-- MENU -->
<div class="menu">
    <a href="/ticket/newTicket</a>
    <a href="/trackTicket</a>
    <a href="/ai-helpp</a>
    <a href="/-baseðŸ“„ Articles</a>
    /admin/loginâš™ Admin</a>
</div>

<!-- 2 BOX GRID -->
<div class="section">

    <!-- QR -->
    <div class="box">
        <h3>ðŸ“± Scan to Raise Ticket</h3>
        /qr/ticket
        <p style="opacity:.8;margin-top:14px">Scan to open ticket form</p>
    </div>

    <!-- VIDEO -->
    <div class="box video-box">
        <h3>ðŸŽ¥ Quick Help Guide</h3>

        <!-- Responsive YouTube Embed (playlist / video) -->
        <div class="embed-wrap">
            <iframe
              src="https://www.youtube.com/embed/inWWhr5tnEA?list=PLEiEAq2VkUUJfPOj5nRounXvf3n17PCft&rel=0&autoplay=1&mute=1"
                title="Quick Help Guide"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
ck="toggleChat()">ðŸ’¬</div>

<!-- CHAT BOX -->
<div class="chat-box" id="chatBox">
    <div class="chat-header">Chat with IT</div>
    <div class="chat-body" id="chatBody"></div>

    <div class="chat-input">
        <input type="text" id="empId" placeholder="Employee ID">
    </div>

    <div class="chat-input">
        <input type="text" id="msg" placeholder="Type your issueâ€¦">
        <button onclick="sendChat()">Send</button>
    </div>
</div>

<script>
function toggleChat(){
    const c=document.getElementById("chatBox");
    c.style.display = c.style.display==="flex"?"none":"flex";
}

function sendChat(){
    const emp=document.getElementById("empId").value;
    const msg=document.getElementById("msg").value;
    if(!emp || !msg) return;

    fetch("/chat/send",{
        method:"POST",
        headers:{"Content-Type":"application/x-www-form-urlencoded"},
        body:`employeeId=${emp}&message=${encodeURIComponent(msg)}`
    }).then(()=>{
        document.getElementById("msg").value="";
        loadChat(emp);
    });
}

function loadChat(emp){
    fetch("/chat/history/"+emp)
        .then(r=>r.json())
        .then(list=>{
            let html="";
            list.forEach(m=>{
                html+=`<div><b>${m.sender}:</b> ${m.message}</div>`;
            });
            chatBody.innerHTML=html;
        });
}
</script>

</body>
</html>
